<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DoV Manager v3.6 (Stable)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
        
        input[type=range] { -webkit-appearance: none; background: transparent; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 16px; width: 16px; border-radius: 50%;
            background: #3b82f6; cursor: pointer; margin-top: -6px; 
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 4px; cursor: pointer; background: #334155; border-radius: 2px;
        }
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- ICONS ---
        const Shield = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>;
        const FactoryIcon = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"/><path d="M17 18h1"/><path d="M12 18h1"/><path d="M7 18h1"/></svg>;
        const Crosshair = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="22" y1="12" x2="18" y2="12"/><line x1="6" y1="12" x2="2" y2="12"/><line x1="12" y1="6" x2="12" y2="2"/><line x1="12" y1="22" x2="12" y2="18"/></svg>;
        const AlertTriangle = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>;
        const CheckCircle = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>;
        const Lock = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>;
        const Users = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>;
        const ChevronRight = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="9 18 15 12 9 6"/></svg>;
        const DollarSign = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>;
        const Filter = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>;
        const Package = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m16.5 9.4-9-5.19"/><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>;
        const Trash2 = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>;
        const Plus = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>;
        const Calculator = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>;
        const KeyIcon = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m21 2-2 2m-7.6 7.6a6.5 6.5 0 1 1-5.3 5.3L3 21l3-3 2.1-2.1a2 2 0 0 1 2.8 0L13.4 13.4a2 2 0 0 1 0 2.8l-4.3 4.3"/><path d="m10 10 1.5 1.5"/><path d="m14 6 1.5 1.5"/><path d="m18 2 1.5 1.5"/></svg>;
        const Zap = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>;
        const Heart = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.28 3.6-2.34 4.53-3.26a6.5 6.5 0 0 0-5.71-10.42 6.51 6.51 0 0 0-5.71 3.8A6.5 6.5 0 0 0 5.71 .32 6.51 6.51 0 0 0 0 5.22c.94.91 3.05 1.98 4.53 3.26L12 22l7-8z"/></svg>;
        const ArrowLeft = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>;
        const Briefcase = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>;
        const Database = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>;
        const Gift = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.9 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></svg>;
        const Diamond = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 3h12l4 6-10 13L2 9Z"/><path d="M11 3 8 9l4 13 4-13-3-6"/><path d="M2 9h20"/></svg>;
        const Scale = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="M7 21h10"/><path d="M12 3v18"/><path d="M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"/></svg>;
        const Info = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>;
        const Flask = ({size=20, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 2v7.31"/><path d="M14 2v7.31"/><path d="M8.5 2h7"/><path d="M14 9.3a6.5 6.5 0 1 1-4 0"/><path d="M5.52 16h12.96"/></svg>;

        // --- DATASETS ---

        const INITIAL_MARKET_PRICES = {
            WAX: 1, 
            DOVX: 0.00528552,
            DOVR: 0.00045262,
            DOVH: 0.00045262,
            DOVF: 0.00045262,
            DOVS: 0.00045262,
        };

        const CHEST_DATA = {
            'Bunker': { zone: 4, name: 'PACK Bunker', tokenCost: 27, drops: [ { type: 'building', pool: [{ id: 'c_f1', name: 'C_F1', prob: 99.9 }] } ] },
            'Camp': { zone: 8, name: 'PACK Camp', tokenCost: 27, drops: [ { type: 'building', pool: [{ id: 'c_f1', name: 'R_F1', prob: 99.9 }] } ] },
            'Radar': { zone: 12, name: 'PACK Radar', tokenCost: 27, drops: [ { type: 'building', pool: [{ id: 'c_f1', name: 'E_F1', prob: 99.9 }] } ] },
            'HQ': { zone: 16, name: 'PACK HQ', tokenCost: 27, drops: [ { type: 'building', pool: [{ id: 'c_f1', name: 'L_F1', prob: 99.9 }] } ] }
        };

        const ZONES = [
            { id: 1, name: 'Beach 1', type: 'Beach', order: 1, win: 400, usage: 1160, minWeight: 14, keyReq: 0, officerReq: 1 },
            { id: 4, name: 'Bunker', type: 'Beach', order: 4, win: 3838, usage: 11120, minWeight: 109, keyReq: 7, officerReq: 4, isCheckpoint: true, unitReq: 'e2', bonusToken: "TOKEN-BUNKER" },
            { id: 8, name: 'Camp', type: 'Forest', order: 8, win: 9739, usage: 28220, minWeight: 512, keyReq: 11, officerReq: 8, isCheckpoint: true, unitReq: 'e1', bonusToken: "TOKEN-CAMP" },
            { id: 12, name: 'Radar', type: 'Hill', order: 12, win: 29236, usage: 84712, minWeight: 1358, keyReq: 15, officerReq: 12, isCheckpoint: true, unitReq: 'e3', godmotherReq: true, bonusToken: "TOKEN-RADAR" },
            { id: 16, name: 'HQ', type: 'Plain', order: 16, win: 64884, usage: 188000, minWeight: 2495, keyReq: 19, officerReq: 16, isCheckpoint: true, unitReq: 'l1', godmotherReq: true, bonusToken: "TOKEN-HQ" },
            { id: 20, name: 'Bridge', type: 'City', order: 20, win: 0, usage: 0, entryCostDovX: 14850.80, minWeight: 2494.23, keyReq: 20, officerReq: 1, bonusToken: "F4-TOKEN-CITY-2025", specificOfficer: 'o11', requiredUnits: ['e7', 'l2', 'l2'] } 
        ];

        const generateFactories = () => {
            const types = ['FUEL', 'REPAIR', 'SUPPLY', 'HEALTH'];
            const rarities = [
                { name: 'Common', levels: [ { l: 1, out: 5.40, cost: 0.4590 }, { l: 2, out: 12.15, cost: 1.0328 }, { l: 3, out: 30.38, cost: 2.5819 }, { l: 4, out: 83.53, cost: 7.1002 }, { l: 5, out: 1458.00, cost: 123.9300, isBlend: true } ]},
            ];
            let list = [];
            types.forEach(type => {
                rarities.forEach(rarity => {
                rarity.levels.forEach(level => {
                    let name = `${rarity.name} ${type} ${level.l}`;
                    if (level.isBlend) name = `Supreme ${rarity.name} ${type} (Blend 10x F4)`;
                    list.push({
                        id: `${rarity.name.charAt(0)}_${type.charAt(0)}${level.l}`,
                        name: name, type: type, rarity: rarity.name, level: level.l, output: level.out, costDoVX: level.cost,
                        efficiency: 100, accountsNeeded: 1, equivalentF1s: 1
                    });
                });
                });
            });
            return list;
        };
        const FACTORIES = generateFactories();

        // MOCK DATA for logic
        const UNITS = []; const ALL_KEYS = []; const ALL_OFFICERS = []; const ALL_SUPPORTS = []; const ALL_GODMOTHERS = [];
        const MOCK_INVENTORY = { keys: [], officers: [], supports: [], godmothers: [], units: [] };

        // --- COMPONENTS ---
        const Card = ({ children, className = "" }) => <div className={`bg-slate-800 border border-slate-700 rounded-lg p-4 shadow-xl ${className}`}>{children}</div>;

        function DoVManager() {
            const [activeTab, setActiveTab] = useState('zone_roi_advanced'); 
            const [marketPrices, setMarketPrices] = useState(INITIAL_MARKET_PRICES);
            const [waxPriceUsd, setWaxPriceUsd] = useState(0.008); 
            const [roiTargetDays, setRoiTargetDays] = useState(365);
            const [cpuPerAccount, setCpuPerAccount] = useState(50);
            
            // --- 1. TOKEN VALUATION LOGIC (CORRECT ORDER) ---
            const tokenValueCalculation = useMemo(() => {
                const f5Factory = FACTORIES.find(f => f.level === 5);
                if (!f5Factory) return { f5Value: 0, totalTokens: 1, valuePerTokenWax: 0, valuePerTokenUsd: 0 };

                const dailyProdWax = f5Factory.output * 24 * marketPrices[`DOV${f5Factory.type.charAt(0)}`];
                const dailyCostWax = f5Factory.costDoVX * 24 * marketPrices.DOVX;
                const dailyProfitWax = dailyProdWax - dailyCostWax;
                
                const savedAccounts = (270 / 4) - 1; 
                const cpuValue = savedAccounts * cpuPerAccount;
                const productionValue = dailyProfitWax * 365;
                
                const f5TotalValueWax = productionValue + cpuValue;
                const totalTokensRequired = 270 * 27; 
                const valuePerTokenWax = f5TotalValueWax / totalTokensRequired;

                return {
                    f5Value: f5TotalValueWax,
                    totalTokens: totalTokensRequired,
                    valuePerTokenWax: valuePerTokenWax,
                    valuePerTokenUsd: valuePerTokenWax * waxPriceUsd
                };
            }, [marketPrices, waxPriceUsd, cpuPerAccount]);

            // --- 2. ZONES ANALYSIS (CORRECT ORDER) ---
            const zonesAnalysis = useMemo(() => {
                return ZONES.map(z => {
                    const cost = z.usage ? z.usage * 4 * marketPrices.DOVF : z.entryCostDovX * marketPrices.DOVX;
                    const reward = z.win * marketPrices.DOVX;
                    const profit = reward - cost;
                    return { ...z, cost, reward, profit };
                });
            }, [marketPrices]);

            // --- 3. ROI ANALYSIS (DEPENDS ON TOKEN CALC & ZONES) ---
            const advancedRoiAnalysis = useMemo(() => {
                const checkpoints = ZONES.filter(z => z.bonusToken);
                return checkpoints.map(z => {
                    const baseStats = zonesAnalysis.find(za => za.id === z.id);
                    const tokenValWax = tokenValueCalculation.valuePerTokenWax; 
                    const totalProfitWax = baseStats.profit + tokenValWax; 
                    const roi = baseStats.cost > 0 ? (totalProfitWax / baseStats.cost) * 100 : 0;
                    return { ...baseStats, tokenValWax, totalProfitWax, roi };
                });
            }, [zonesAnalysis, tokenValueCalculation]);

            return (
                <div className="p-4 md:p-8 max-w-7xl mx-auto">
                    <header className="flex flex-col xl:flex-row justify-between items-center mb-8 border-b border-slate-700 pb-4 gap-4">
                        <div className="flex items-center gap-3">
                            <div className="bg-blue-600 p-2 rounded-lg"><Shield size={32} className="text-white" /></div>
                            <div><h1 className="text-2xl font-bold tracking-wider text-white">DoV <span className="text-blue-400">COMMANDER</span> v3.6</h1><p className="text-slate-400 text-sm">Optimiseur Tactique & Financier</p></div>
                        </div>
                    </header>

                    <div className="flex gap-4 mb-6 overflow-x-auto pb-2">
                        <button onClick={() => setActiveTab('zone_roi_advanced')} className={`flex items-center gap-2 px-6 py-3 rounded-lg font-bold transition-all whitespace-nowrap ${activeTab === 'zone_roi_advanced' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-900/50' : 'bg-slate-800 text-slate-400 hover:bg-slate-700'}`}><Diamond size={18} /> ROI AVANCÉ (TOKENS)</button>
                    </div>

                    {activeTab === 'zone_roi_advanced' && (
                        <div className="space-y-6 animate-fade-in">
                            <Card className="border-l-4 border-indigo-500">
                                <div className="flex flex-col md:flex-row gap-6">
                                    <div className="flex-1">
                                        <h3 className="text-lg font-bold text-white mb-2 flex items-center gap-2"><Flask size={20} className="text-indigo-400"/> Valorisation "Asset Backed" du Token</h3>
                                        <p className="text-sm text-slate-400 mb-4">La valeur du Reward Token est calculée en fonction de sa capacité à créer une usine <strong>Supreme (F5)</strong> via le blend.</p>
                                        <div className="grid grid-cols-3 gap-4 text-center">
                                            <div className="bg-slate-900 p-2 rounded border border-slate-700">
                                                <div className="text-[10px] text-slate-500 uppercase">Valeur Cible F5</div>
                                                <div className="text-emerald-400 font-bold font-mono">{tokenValueCalculation.f5Value.toLocaleString(undefined, {maximumFractionDigits:0})} WAX</div>
                                                <div className="text-[10px] text-slate-600">Prod (1an) + CPU Save</div>
                                            </div>
                                            <div className="flex flex-col justify-center items-center">
                                                <div className="text-xs text-slate-500">Divisé par</div>
                                                <div className="font-bold text-white">7 290 Tokens</div>
                                            </div>
                                            <div className="bg-indigo-900/30 p-2 rounded border border-indigo-500">
                                                <div className="text-[10px] text-indigo-300 uppercase">Valeur Intrinsèque / Token</div>
                                                <div className="text-white font-bold font-mono text-xl">{tokenValueCalculation.valuePerTokenWax.toFixed(2)} WAX</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </Card>

                            <div className="overflow-x-auto">
                                <table className="w-full text-left border-collapse">
                                    <thead>
                                        <tr className="text-slate-400 border-b border-slate-700 text-xs uppercase bg-slate-800/50">
                                            <th className="p-3">Zone Checkpoint</th>
                                            <th className="p-3 text-right">Coût Entrée</th>
                                            <th className="p-3 text-right">Gain DOV-X</th>
                                            <th className="p-3 text-right text-indigo-300 bg-indigo-900/10">+ Gain Token (1u)</th>
                                            <th className="p-3 text-right font-bold text-white">Profit Total (WAX)</th>
                                            <th className="p-3 text-center">ROI Boosté</th>
                                        </tr>
                                    </thead>
                                    <tbody className="text-sm">
                                        {advancedRoiAnalysis.map(z => (
                                            <tr key={z.id} className="border-b border-slate-700 hover:bg-slate-800/50 transition-colors">
                                                <td className="p-3 font-bold text-white"><div>{z.name}</div><div className="text-[10px] text-slate-500 uppercase">{z.bonusToken.replace('TOKEN-', '')} DROP</div></td>
                                                <td className="p-3 text-right font-mono text-red-400">-{z.cost.toFixed(2)} W</td>
                                                <td className="p-3 text-right font-mono text-emerald-400">+{z.reward.toFixed(2)} W</td>
                                                <td className="p-3 text-right font-mono text-indigo-300 bg-indigo-900/10 font-bold">+{z.tokenValWax.toFixed(2)} W</td>
                                                <td className="p-3 text-right font-mono font-bold"><div className={z.totalProfitWax > 0 ? "text-emerald-400" : "text-red-400"}>{z.totalProfitWax > 0 ? "+" : ""}{z.totalProfitWax.toFixed(2)} W</div></td>
                                                <td className="p-3 text-center"><div className={`px-2 py-1 rounded text-xs font-bold inline-block ${z.roi > 0 ? "bg-emerald-900/50 text-emerald-300" : "bg-red-900/50 text-red-300"}`}>{z.roi.toFixed(1)}%</div></td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DoVManager />);
    </script>
</body>
</html>
